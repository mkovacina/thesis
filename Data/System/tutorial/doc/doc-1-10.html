<html>
              <!-- This panel generated from the developerWorks XML tag set for tutorials, Version 3.0.2.  (C) Copyright 2000, 2002 IBM Corporation.  All rights reserved. -->
            <head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Example SWEEP Simulation</title></head><body vlink="663366" alink="330000" text="000000" bgcolor="ffffff"><script language="javascript">
<!-- 
var emailAbstract="A reference tutorial for the SWEEP swarm development platform";
var justTitle="";
var tutorialPrereqs="";
var menu1blurb="Example SWEEP Simulation"; 
var menu2blurb="End Notes"; 

      var browser = "x";
      if (navigator.userAgent.indexOf("Mozilla/4") != -1) browser = "N3";
      else if (navigator.userAgent.indexOf("Mozilla/3") != -1) browser = "N3";
      else browser = "x";
      
      if (browser=="N3")
      {
    var menu1over=new Image(108,68); 
var menu1out=new Image(108,68); 
var menu2over=new Image(108,68); 
var menu2out=new Image(108,68); 

        var topmainover=new Image(77,15);
        var topmainout=new Image(77,15);
        var bottommainover=new Image(77,15);
        var bottommainout=new Image(77,15);
        var topsectionover=new Image(98,15);
        var topsectionout=new Image(98,15);
        var bottomsectionover=new Image(98,15);
        var bottomsectionout=new Image(98,15);
        var topfeedbackover=new Image(80,15);
        var topfeedbackout=new Image(80,15);
        var bottomfeedbackover=new Image(80,15);
        var bottomfeedbackout=new Image(80,15);
        var toppreviousover=new Image(77,15);
        var toppreviousout=new Image(77,15);
        var bottompreviousover=new Image(77,15);
        var bottompreviousout=new Image(77,15);
        var topnextover=new Image(60,15);
        var topnextout=new Image(60,15);
        var bottomnextover=new Image(60,15);
        var bottomnextout=new Image(60,15);
        var topnextsectionover=new Image(108,15);
        var topnextsectionout=new Image(108,15);
        var bottomnextsectionover=new Image(108,15);
        var bottomnextsectionout=new Image(108,15);
      
    menu1over.src="imagemaster/himenu1.jpg"; 
menu1out.src="imagemaster/menu1.jpg"; 
menu2over.src="imagemaster/himenu2.jpg"; 
menu2out.src="imagemaster/menu2.jpg"; 

        var mainblurb="Main menu";
        var sectionblurb="Section menu";
        var feedbackblurb="Give feedback on this tutorial";
        var previousblurb="Go to previous panel";
        var nextblurb="Go to next panel";
        var nextsectionblurb="Go to next section";

      topmainover.src="../default/i/h-main.gif";
      topmainout.src="../default/i/main.gif";
      bottommainover.src="../default/i/h-main.gif";
      bottommainout.src="../default/i/main.gif";
      topsectionover.src="../default/i/h-section.gif";
      topsectionout.src="../default/i/section.gif";      
      bottomsectionover.src="../default/i/h-section.gif";
      bottomsectionout.src="../default/i/section.gif";      
      topfeedbackover.src="../default/i/h-feedback.gif";
      topfeedbackout.src="../default/i/feedback.gif";
      bottomfeedbackover.src="../default/i/h-feedback.gif";
      bottomfeedbackout.src="../default/i/feedback.gif";
      toppreviousover.src="../default/i/h-previous.gif";
      toppreviousout.src="../default/i/previous.gif";
      bottompreviousover.src="../default/i/h-previous.gif";
      bottompreviousout.src="../default/i/previous.gif";
      topnextover.src="../default/i/h-next.gif";
      topnextout.src="../default/i/next.gif";
      bottomnextover.src="../default/i/h-next.gif";
      bottomnextout.src="../default/i/next.gif";
      topnextsectionout.src="../default/i/nextsection.gif";
      topnextsectionover.src="../default/i/h-nextsection.gif";
      bottomnextsectionout.src="../default/i/nextsection.gif";
      bottomnextsectionover.src="../default/i/h-nextsection.gif";
      }
      function iOut(image)
      {
        if (browser=="N3")document[image].src=eval(image + "out.src");
      }
      function iOver(image)
      {
        if (browser=="N3")document[image].src=eval(image + "over.src");
      }
      // -->
    </script><script src="../default/i/emailfriend.js" language="javascript"></script><a href="#navskip"><img border="0" alt="Skip to main content" src="../default/i/c.gif"></a><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><img src="imagemaster/masthead.jpg" alt=""></td><td width="*" valign="bottom" align="right"><a border="0" href="doc.zip"><img alt="ZIP" border="0" src="../default/i/icon-zip.gif"></a><a border="0" href="doc-ltr.pdf"><img alt="PDF (letter)" border="0" src="../default/i/icon-pdf-ltr.gif"></a><a border="0" href="doc-a4.pdf"><img alt="PDF (A4)" border="0" src="../default/i/icon-pdf-a4.gif"></a><a href="javascript:newWindow()" border="0"><img alt="e-mail" border="0" src="../default/i/icon-email.gif"></a></td></tr><tr><td height="2" colspan="2"><img height="2" width="1" src="../default/i/c.gif"></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="topmain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index1.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="topsection"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topfeedback'); iOver('bottomfeedback'); self.status=feedbackblurb; return true;" onMouseOut="iOut('topfeedback'); iOut('bottomfeedback'); self.status=''; return true;" href="index.html"><img alt="Feedback" border="0" src="../default/i/feedback.gif" name="topfeedback"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="doc-1-9.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="topprevious"></a></td><td background="../default/i/sw-gold.gif"><img border="0" src="../default/i/xnext.gif"></td></tr><tr><td width="100%" colspan="5"></td><td width="108" height="1" bgcolor="#000000" align="right"><img alt="" height="1" width="108" src="../default/i/c.gif"></td></tr><tr><td colspan="5"></td><td align="right"><a border="0" onMouseOver="iOver('topnextsection'); iOver('bottomnextsection'); self.status=nextsectionblurb; return true;" onMouseOut="iOut('topnextsection'); iOut('bottomnextsection'); self.status=''; return true;" href="doc-2-1.html"><img alt="Next Section" src="../default/i/nextsection.gif" border="0" name="topnextsection"></a></td></tr></table><table bgcolor="ffffff" cellspacing="0" cellpadding="2" border="0" height="400" width="100%"><tr valign="bottom"><td height="25" colspan="4"><img border="0" height="25" width="562" src="imagemaster/titlebar1.jpg" alt="1. Example SWEEP Simulation"></td></tr><tr><td bgcolor="ffffff" width="15">&nbsp;</td><td bgcolor="ffffff" width="12">&nbsp;</td><td valign="top" align="left" bgcolor="ffffff" width="*"><p><br><table cellspacing="0" cellpadding="0" border="0"><tr><td width="90%"><font size="4" face="Verdana, Arial, sans-serif"><b>Full simulation XML file</b></font></td><td width="200" align="right"><font size="1" face="Verdana, Arial, sans-serif"><nobr>    page 10 of 10</nobr></font></td></tr></table><br><br></p><font size="2" face="Verdana, Arial, sans-serif"><pre><font size="2" face="Courier New">
&lt;?xml version="1.0"?&gt;

&lt;simulation builder="standard.simulation.SimulationBuilder"&gt;

&lt;main&gt;
	&lt;info name="about" type="info-type1"/&gt;
	
	&lt;swarm name="my-swarm-A" type="swarm-A"&gt;
		&lt;entity type="swarm-A-entity" number="10"/&gt;
	&lt;/swarm&gt;

	&lt;swarm name="my-swarm-B" type="swarm-B"&gt;
		&lt;entity type="swarm-B-entity" number="10"/&gt;
	&lt;/swarm&gt;
	
	&lt;!-- should be able to override environment attributes here too --&gt;
	&lt;environment name="world" type="world"/&gt;
	
	&lt;probe name="probe" type="terminator"/&gt;
	&lt;probe name="summary" type="summarizer"/&gt;
&lt;/main&gt;

&lt;environments&gt;
	&lt;environment name="world"&gt;
		&lt;builder class="standard.environment.EnvironmentBuilder"/&gt;
		&lt;model class="grid.environment.SafeGridModel"&gt;
			&lt;attributes&gt;
				&lt;attribute name="rows" value="50"/&gt;
				&lt;attribute name="cols" value="50"/&gt;
			&lt;/attributes&gt;
			&lt;initializers&gt;
				&lt;initializer class="grid.environment.RandomInitialization"&gt;
					&lt;builder class="grid.environment.RandomInitializationBuilder"/&gt;

					&lt;seed value="3141592654"/&gt;
					
					&lt;!-- Garbage Object--&gt;
					&lt;object value="1" number="50"/&gt;
					&lt;!-- Mine Object --&gt;
					&lt;object value="4" number="10"/&gt;
				&lt;/initializer&gt;
			&lt;/initializers&gt;
			&lt;updates&gt;&lt;/updates&gt;
		&lt;/model&gt;
	&lt;/environment&gt;
&lt;/environments&gt;

&lt;models&gt;
	&lt;model name="avatar" class="grid.model.GridAvatar"&gt;
		&lt;builder class="standard.model.ModelBuilder"/&gt;
		
		&lt;!-- attributes define model parameters --&gt;
		&lt;attributes&gt;
			&lt;!-- Basic attributes --&gt;
			&lt;attribute name="empty" value="0"/&gt;
			&lt;attribute name="environment" value="world"/&gt;
			&lt;attribute name="holdingGarbage" value="false"/&gt;
			
			
			&lt;!-- Parameters for garbage actions/sensors --&gt;
			&lt;attribute name="garbage.grid" value="world"/&gt;
			&lt;attribute name="garbage.value" value="1"/&gt;
			&lt;attribute name="garbage.downvalue" value="6"/&gt;
			&lt;attribute name="garbage.range.on" value="0"/&gt;
			&lt;attribute name="garbage.range.near" value="5"/&gt;

			&lt;!-- Paramters for mine actions/sensors --&gt;
			&lt;attribute name="mine.grid" value="world"/&gt;
			&lt;attribute name="mine.value.armed" value="4"/&gt;
			&lt;attribute name="mine.value.partial" value="3"/&gt;
			&lt;attribute name="mine.value.disarmed" value="2"/&gt;
			&lt;attribute name="mine.range.on" value="0"/&gt;
			&lt;attribute name="mine.range.near" value="5"/&gt;
		&lt;/attributes&gt;
		
		&lt;!-- define available sensors --&gt;
		&lt;sensors&gt;
			&lt;!-- Sensor: true when on a piece of garbage --&gt;
			&lt;sensor name="on-garbage" class="grid.model.sensor.FilteredValueSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="range"       value="garbage.range.on"/&gt;
					&lt;attribute name="targetValue" value="garbage.value"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
			
			&lt;!-- Sensor: true when in range of garbage --&gt;
			&lt;sensor name="near-garbage" class="grid.model.sensor.FilteredValueSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="range" value="garbage.range.near"/&gt;
					&lt;attribute name="targetValue" value="garbage.value"/&gt;
					&lt;attribute name="varName" value="garbage.location"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
			
			&lt;!-- Sensor: true when holding garbage --&gt;
			&lt;sensor name="holding-garbage" class="sweep.model.sensor.InternalBooleanSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="attrName" value="holdingGarbage"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
			
			&lt;!-- Sensor: true when on a fully armed mine --&gt;
			&lt;sensor name="on-armed-mine" class="grid.model.sensor.FilteredValueSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="range" value="mine.range.on"/&gt;
					&lt;attribute name="targetValue" value="mine.value.armed"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;

			&lt;!-- Sensor: true when on a partially disarmed mine --&gt;
			&lt;sensor name="on-partially-disarmed-mine" class="grid.model.sensor.FilteredValueSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="range" value="mine.range.on"/&gt;
					&lt;attribute name="targetValue" value="mine.value.partial"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
			
			&lt;!-- Sensor: true when on the dumpster --&gt;
			&lt;sensor name="on-dumpster" class="grid.model.sensor.LocationSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="location" value="const:10,10"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
			
			&lt;!-- Sensor: true when near a (fully|partially) armed mine --&gt;
			&lt;sensor name="near-mine" class="grid.model.sensor.FilteredValueSensor"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="range" value="mine.range.near"/&gt;
					&lt;attribute name="targetValue" value="mine.value.armed,mine.value.partial"/&gt;
					&lt;attribute name="varName" value="mine.location"/&gt;
				&lt;/attributes&gt;
			&lt;/sensor&gt;
		&lt;/sensors&gt;
		
		&lt;actions&gt;
			&lt;!-- Action: if on a piece of garbage, pick it up --&gt;
			&lt;action name="pick-up-garbage" builder="sweep.model.action.ConditionalActionBuilder"&gt;
				&lt;if&gt;
					&lt;condition sensor="on-garbage" value="true"/&gt;
					&lt;condition state="holdingGarbage" value="false"/&gt;
					&lt;then&gt;
						&lt;action name="pick-up-garbage-helper"/&gt;
						&lt;action name="set-holding-garbage"/&gt;
					&lt;/then&gt;
				&lt;/if&gt;
			&lt;/action&gt;

			&lt;!-- Action: if holding garbage and on dumpster, put it down --&gt;
			&lt;action name="put-down-garbage" builder="sweep.model.action.ConditionalActionBuilder"&gt;
				&lt;if&gt;
					&lt;condition sensor="on-dumpster" value="true"/&gt;
					&lt;condition state="holdingGarbage" value="true"/&gt;
					&lt;then&gt;
						&lt;!--&lt;action name="put-down-garbage-helper"/&gt;--&gt;
						&lt;action name="reset-holding-garbage"/&gt;
						&lt;action name="increment-garbage-count"/&gt;
					&lt;/then&gt;
				&lt;/if&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: pick up a piece of garbage --&gt;
			&lt;action name="pick-up-garbage-helper" class="grid.model.action.SetAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="value" value="empty"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;

			&lt;!-- Action: put down a piece of garbage --&gt;
			&lt;action name="put-down-garbage-helper" class="grid.model.action.SetAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="value" value="garbage.downvalue"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: set the holding garbage flag --&gt;
			&lt;action name="set-holding-garbage" class="sweep.model.action.SetStateVariableAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="flag" value="holdingGarbage"/&gt;
					&lt;attribute name="value" value="true"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
				
			&lt;!-- Action: reset the holding garbage flag --&gt;
			&lt;action name="reset-holding-garbage" class="sweep.model.action.SetStateVariableAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="flag" value="holdingGarbage"/&gt;
					&lt;attribute name="value" value="false"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: increment the garbage count --&gt;
			&lt;action name="increment-garbage-count" class="sweep.model.action.IncrementCounterAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="name" value="garbage-counter"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: if on a mine, disarm the first stage --&gt;
			&lt;action name="disarm-mine-stage-1" builder="sweep.model.action.ConditionalActionBuilder"&gt;
				&lt;if&gt;
					&lt;condition sensor="on-armed-mined" value="true"/&gt;
					&lt;then&gt;
						&lt;action name="disarm-mine-stage-1-helper"/&gt;
						&lt;action name="set-disarmed-phase-1"/&gt;
						&lt;action name="disable-agent"/&gt;
					&lt;/then&gt;
				&lt;/if&gt;
			&lt;/action&gt;

			&lt;!-- Action: if on a mine, disarm the second stage --&gt;
			&lt;action name="disarm-mine-stage-2" builder="sweep.model.action.ConditionalActionBuilder"&gt;
				&lt;if&gt;
					&lt;condition sensor="on-partial-mine" value="true"/&gt;
					&lt;then&gt;
						&lt;action name="disarm-mine-stage-2-helper"/&gt;
						&lt;action name="set-disarmed-phase-2"/&gt;
						&lt;action name="disable-agent"/&gt;
					&lt;/then&gt;
				&lt;/if&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: First stage of disarming the mine --&gt;
			&lt;action name="disarm-mine-stage-1-helper" class="grid.model.action.SetAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="value" value="mine.value.partial"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;

			&lt;!-- Action: Second stage of disarming the mine --&gt;
			&lt;action name="disarm-mine-stage-2-helper" class="grid.model.action.SetAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="value" value="mine.value.disarmed"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: set the phase 1 disarming flag --&gt;
			&lt;action name="set-disarmed-phase-1" class="sweep.model.action.IncrementCounterAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="name" value="disarmed-phase-1"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			&lt;!--
			&lt;action name="set-disarmed-phase-1" class="sweep.model.action.SetStateVariableAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="flag" value="disarmed-phase-1"/&gt;
					&lt;attribute name="value" value="true"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;  --&gt;

			&lt;!-- Action: set the phase 2 disarming flag --&gt;
			&lt;action name="set-disarmed-phase-2" class="sweep.model.action.IncrementCounterAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="name" value="disarmed-phase-2"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			&lt;!--
			&lt;action name="set-disarmed-phase-2" class="sweep.model.action.SetStateVariableAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="flag" value="disarmed-phase-2"/&gt;
					&lt;attribute name="value" value="true"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;--&gt;
			
			&lt;!-- Action: disable the agent for the rest of the sim --&gt;
			&lt;action name="disable-agent" class="sweep.model.action.DisableAction"/&gt;
			
			&lt;!-- Action: move in a random direction --&gt;
			&lt;action name="move-random" class="grid.model.action.MoveRandomAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="environment"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: move towards the dumpster --&gt;
			&lt;action name="move-towards-dumpster" class="grid.model.action.MoveTowardsAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="location" value="const:10,10"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: move towards the closest piece of garbage --&gt;
			&lt;action name="move-towards-garbage" class="grid.model.action.MoveTowardsAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="garbage.grid"/&gt;
					&lt;attribute name="location" value="av:garbage.location"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
			
			&lt;!-- Action: move towards the closest mine --&gt;
			&lt;action name="move-towards-mine" class="grid.model.action.MoveTowardsAction"&gt;
				&lt;attributes&gt;
					&lt;attribute name="environment" value="mine.grid"/&gt;
					&lt;attribute name="location" value="av:mine.location"/&gt;
				&lt;/attributes&gt;
			&lt;/action&gt;
		&lt;/actions&gt;
		
		&lt;initializers&gt;
			&lt;initializer name="random-placement" class="grid.model.RandomPlacementInitializer"/&gt;
		&lt;/initializers&gt;
	&lt;/model&gt;
&lt;/models&gt;

&lt;controllers&gt;
	&lt;controller name="basic-state-machine" format="state"&gt;
		&lt;builder class="sweep.controller.FSABuilder"/&gt;
		&lt;initialState name="searching"/&gt;
		&lt;states&gt;
		
			&lt;!-- State: controls the search beahviors --&gt;
			&lt;state name="searching"&gt;
				&lt;!-- Rule: if in range of garbage, go into collecting mode --&gt;
				&lt;transition nextState="collect-garbage"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="near-garbage" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="move-towards-garbage"/&gt;
				&lt;/transition&gt;
			
				&lt;!-- Rule: if in range of a mine, go into disarming mode --&gt;
				&lt;transition nextState="disarm-mine"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="near-mine" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="move-towards-mine"/&gt;
				&lt;/transition&gt;
				
				&lt;!-- Rule: otherwise, keep searching randomly --&gt;
				&lt;default nextState="searching"&gt;
					&lt;action name="move-random"/&gt;
				&lt;/default&gt;
			&lt;/state&gt;
			
			&lt;!-- State: controls the collection of garbage --&gt;
			&lt;state name="collect-garbage"&gt;
				&lt;!-- Rule: if on a piece of garbage, pick it up --&gt;
				&lt;transition nextState="collect-garbage"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="holding-garbage" value="false"/&gt;
						&lt;sensor name="on-garbage" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="pick-up-garbage"/&gt;
				&lt;/transition&gt;
				
				&lt;!-- Rule: if near garbage, move towards it --&gt;
				&lt;transition nextState="collect-garbage"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="holding-garbage" value="false"/&gt;
						&lt;sensor name="near-garbage" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="move-towards-garbage"/&gt;
				&lt;/transition&gt;
				
				&lt;!-- Rule: if holding garbage, move towards the dumpster --&gt;
				&lt;transition nextState="collect-garbage"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="holding-garbage" value="true"/&gt;
						&lt;sensor name="on-dumpster" value="false"/&gt;
					&lt;/rule&gt;
					&lt;action name="move-towards-dumpster"/&gt;
				&lt;/transition&gt;

				&lt;!-- Rule: if holding garbage and on the dumpster, dispose of the garbage --&gt;
				&lt;transition nextState="searching"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="holding-garbage" value="true"/&gt;
						&lt;sensor name="on-dumpster" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="put-down-garbage"/&gt;
				&lt;/transition&gt;

				&lt;!-- Rule: go back to searching --&gt;
				&lt;default nextState="searching"&gt;
					&lt;action name="move-random"/&gt;
				&lt;/default&gt;
			&lt;/state&gt;
			
			&lt;!-- State: controls the disarming of mines --&gt;
			&lt;state name="disarm-mine"&gt;
				&lt;!-- Rule: if on an armed mine, perform the first disarming step --&gt;
				&lt;transition nextState="disarm-mine"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="on-armed-mine" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="disarm-mine-stage-1"/&gt;
				&lt;/transition&gt;

				&lt;!-- Rule: if on a partially disarmed mine, finish the job --&gt;
				&lt;transition nextState="searching"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="on-partially-disarmed-mine" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="disarm-mine-stage-2"/&gt;
				&lt;/transition&gt;

				&lt;!-- Rule: if near a mine, move towards it --&gt;
				&lt;transition nextState="disarm-mine"&gt;
					&lt;rule logical="and"&gt;
						&lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
						&lt;sensor name="near-mine" value="true"/&gt;
					&lt;/rule&gt;
					&lt;action name="move-towards-mine"/&gt;
				&lt;/transition&gt;
				
				&lt;!-- Rule: go back to searching --&gt;
				&lt;default nextState="searching"&gt;
					&lt;action name="move-random"/&gt;
				&lt;/default&gt;
			&lt;/state&gt;
		&lt;/states&gt;
	&lt;/controller&gt;
&lt;/controllers&gt;

&lt;!-- Not currently being used --&gt;
&lt;agents&gt;
	&lt;agent name="agent"&gt;
		&lt;builder class="standard.agent.AgentBuilder"/&gt;
		&lt;attributes&gt;&lt;/attributes&gt;
		&lt;memory&gt;&lt;/memory&gt;
	&lt;/agent&gt;
&lt;/agents&gt;    

&lt;swarms&gt;
	&lt;swarm name="swarm-A"&gt;
		&lt;builder class="standard.swarm.SwarmBuilder"/&gt;
		&lt;entity name="swarm-A-entity"&gt;
			&lt;agent type="agent"/&gt;
			&lt;controller type="basic-state-machine"/&gt;
			&lt;model type="avatar"/&gt;
		&lt;/entity&gt;
	&lt;/swarm&gt;

	&lt;swarm name="swarm-B"&gt;
		&lt;builder class="standard.swarm.SwarmBuilder"/&gt;
		&lt;entity name="swarm-B-entity"&gt;
			&lt;agent type="agent"/&gt;
			&lt;controller type="basic-state-machine"/&gt;
			&lt;model type="avatar"/&gt;
		&lt;/entity&gt;
	&lt;/swarm&gt;
&lt;/swarms&gt;

&lt;!-- Not currently being used --&gt;    
&lt;information&gt;
	&lt;info name="info-type1"&gt;
		&lt;builder class="sweep.info.NullInfoBuilder"/&gt;
	&lt;/info&gt;
&lt;/information&gt;

&lt;probes&gt;
	&lt;probe name="terminator"&gt;
		&lt;builder class="sweep.probe.CounterProbeBuilder"/&gt;
		&lt;iterations num="200"/&gt;
	&lt;/probe&gt;
	
	&lt;probe name="summarizer"&gt;
		&lt;builder class="sweep.probe.SummaryProbeBuilder"/&gt;
		&lt;sum swarm="my-swarm-A" var="garbage-counter"/&gt;
		&lt;sum swarm="my-swarm-A" var="disarmed-phase-1"/&gt;
		&lt;sum swarm="my-swarm-A" var="disarmed-phase-2"/&gt;
		&lt;sum swarm="my-swarm-B" var="garbage-counter"/&gt;
		&lt;sum swarm="my-swarm-B" var="disarmed-phase-1"/&gt;
		&lt;sum swarm="my-swarm-B" var="disarmed-phase-2"/&gt;        
		&lt;screen/&gt;
	&lt;/probe&gt;
&lt;/probes&gt;
&lt;/simulation&gt;				
				</font></pre><br></font></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td align="right" colspan="6"><a border="0" onMouseOver="iOver('topnextsection'); iOver('bottomnextsection'); self.status=nextsectionblurb; return true;" onMouseOut="iOut('topnextsection'); iOut('bottomnextsection'); self.status=''; return true;" href="doc-2-1.html"><img alt="Next Section" src="../default/i/nextsection.gif" border="0" name="bottomnextsection"></a></td></tr><tr><td width="100%" colspan="5"></td><td width="108" height="1" bgcolor="#000000" align="right"><img alt="" height="1" width="108" src="../default/i/c.gif"></td></tr><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="bottommain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index1.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="bottomsection"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topfeedback'); iOver('bottomfeedback'); self.status=feedbackblurb; return true;" onMouseOut="iOut('topfeedback'); iOut('bottomfeedback'); self.status=''; return true;" href="index.html"><img alt="Feedback" border="0" src="../default/i/feedback.gif" name="bottomfeedback"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="doc-1-9.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="bottomprevious"></a></td><td background="../default/i/sw-gold.gif"><img border="0" src="../default/i/xnext.gif"></td></tr><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr></table></body></html>