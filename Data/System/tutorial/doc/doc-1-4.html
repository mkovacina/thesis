<html>
              <!-- This panel generated from the developerWorks XML tag set for tutorials, Version 3.0.2.  (C) Copyright 2000, 2002 IBM Corporation.  All rights reserved. -->
            <head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Example SWEEP Simulation</title></head><body vlink="663366" alink="330000" text="000000" bgcolor="ffffff"><script language="javascript">
<!-- 
var emailAbstract="A reference tutorial for the SWEEP swarm development platform";
var justTitle="";
var tutorialPrereqs="";
var menu1blurb="Example SWEEP Simulation"; 
var menu2blurb="End Notes"; 

      var browser = "x";
      if (navigator.userAgent.indexOf("Mozilla/4") != -1) browser = "N3";
      else if (navigator.userAgent.indexOf("Mozilla/3") != -1) browser = "N3";
      else browser = "x";
      
      if (browser=="N3")
      {
    var menu1over=new Image(108,68); 
var menu1out=new Image(108,68); 
var menu2over=new Image(108,68); 
var menu2out=new Image(108,68); 

        var topmainover=new Image(77,15);
        var topmainout=new Image(77,15);
        var bottommainover=new Image(77,15);
        var bottommainout=new Image(77,15);
        var topsectionover=new Image(98,15);
        var topsectionout=new Image(98,15);
        var bottomsectionover=new Image(98,15);
        var bottomsectionout=new Image(98,15);
        var topfeedbackover=new Image(80,15);
        var topfeedbackout=new Image(80,15);
        var bottomfeedbackover=new Image(80,15);
        var bottomfeedbackout=new Image(80,15);
        var toppreviousover=new Image(77,15);
        var toppreviousout=new Image(77,15);
        var bottompreviousover=new Image(77,15);
        var bottompreviousout=new Image(77,15);
        var topnextover=new Image(60,15);
        var topnextout=new Image(60,15);
        var bottomnextover=new Image(60,15);
        var bottomnextout=new Image(60,15);
        var topnextsectionover=new Image(108,15);
        var topnextsectionout=new Image(108,15);
        var bottomnextsectionover=new Image(108,15);
        var bottomnextsectionout=new Image(108,15);
      
    menu1over.src="imagemaster/himenu1.jpg"; 
menu1out.src="imagemaster/menu1.jpg"; 
menu2over.src="imagemaster/himenu2.jpg"; 
menu2out.src="imagemaster/menu2.jpg"; 

        var mainblurb="Main menu";
        var sectionblurb="Section menu";
        var feedbackblurb="Give feedback on this tutorial";
        var previousblurb="Go to previous panel";
        var nextblurb="Go to next panel";
        var nextsectionblurb="Go to next section";

      topmainover.src="../default/i/h-main.gif";
      topmainout.src="../default/i/main.gif";
      bottommainover.src="../default/i/h-main.gif";
      bottommainout.src="../default/i/main.gif";
      topsectionover.src="../default/i/h-section.gif";
      topsectionout.src="../default/i/section.gif";      
      bottomsectionover.src="../default/i/h-section.gif";
      bottomsectionout.src="../default/i/section.gif";      
      topfeedbackover.src="../default/i/h-feedback.gif";
      topfeedbackout.src="../default/i/feedback.gif";
      bottomfeedbackover.src="../default/i/h-feedback.gif";
      bottomfeedbackout.src="../default/i/feedback.gif";
      toppreviousover.src="../default/i/h-previous.gif";
      toppreviousout.src="../default/i/previous.gif";
      bottompreviousover.src="../default/i/h-previous.gif";
      bottompreviousout.src="../default/i/previous.gif";
      topnextover.src="../default/i/h-next.gif";
      topnextout.src="../default/i/next.gif";
      bottomnextover.src="../default/i/h-next.gif";
      bottomnextout.src="../default/i/next.gif";
      topnextsectionout.src="../default/i/nextsection.gif";
      topnextsectionover.src="../default/i/h-nextsection.gif";
      bottomnextsectionout.src="../default/i/nextsection.gif";
      bottomnextsectionover.src="../default/i/h-nextsection.gif";
      }
      function iOut(image)
      {
        if (browser=="N3")document[image].src=eval(image + "out.src");
      }
      function iOver(image)
      {
        if (browser=="N3")document[image].src=eval(image + "over.src");
      }
      // -->
    </script><script src="../default/i/emailfriend.js" language="javascript"></script><a href="#navskip"><img border="0" alt="Skip to main content" src="../default/i/c.gif"></a><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><img src="imagemaster/masthead.jpg" alt=""></td><td width="*" valign="bottom" align="right"><a border="0" href="doc.zip"><img alt="ZIP" border="0" src="../default/i/icon-zip.gif"></a><a border="0" href="doc-ltr.pdf"><img alt="PDF (letter)" border="0" src="../default/i/icon-pdf-ltr.gif"></a><a border="0" href="doc-a4.pdf"><img alt="PDF (A4)" border="0" src="../default/i/icon-pdf-a4.gif"></a><a href="javascript:newWindow()" border="0"><img alt="e-mail" border="0" src="../default/i/icon-email.gif"></a></td></tr><tr><td height="2" colspan="2"><img height="2" width="1" src="../default/i/c.gif"></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="topmain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index1.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="topsection"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topfeedback'); iOver('bottomfeedback'); self.status=feedbackblurb; return true;" onMouseOut="iOut('topfeedback'); iOut('bottomfeedback'); self.status=''; return true;" href="index.html"><img alt="Feedback" border="0" src="../default/i/feedback.gif" name="topfeedback"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="doc-1-3.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="topprevious"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topnext'); iOver('bottomnext'); self.status=nextblurb; return true;" onMouseOut="iOut('topnext'); iOut('bottomnext'); self.status=''; return true;" href="doc-1-5.html"><img alt="Next" border="0" src="../default/i/next.gif" name="topnext"></a></td></tr></table><table bgcolor="ffffff" cellspacing="0" cellpadding="2" border="0" height="400" width="100%"><tr valign="bottom"><td height="25" colspan="4"><img border="0" height="25" width="562" src="imagemaster/titlebar1.jpg" alt="1. Example SWEEP Simulation"></td></tr><tr><td bgcolor="ffffff" width="15">&nbsp;</td><td bgcolor="ffffff" width="12">&nbsp;</td><td valign="top" align="left" bgcolor="ffffff" width="*"><p><br><table cellspacing="0" cellpadding="0" border="0"><tr><td width="90%"><font size="4" face="Verdana, Arial, sans-serif"><b>&lt;Controller&gt;</b></font></td><td width="200" align="right"><font size="1" face="Verdana, Arial, sans-serif"><nobr>    page 4 of 10</nobr></font></td></tr></table><br><br></p><font size="2" face="Verdana, Arial, sans-serif"><b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">Description</b><p xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">The <i>&lt;Controller&gt;</i> section defines the basic agent logic.  This section is where the swarm algorithm itself is programmed.  The controller uses sensor inputs to make decisions, and from these decisions the desired behaviors are selected.</p><p xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">SWEEP uses a state machine model by default to encode agent logic.  It is possible for a develper to implement other types of controllers besides state machines.  Examples of other controllers include pure Java controllers, LISP or PROLOG evaluators, embedded Jython, or interactive control through some input method (keyboard, joystick, etc).</p><p xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">The state machine has a very simple setup.  Each state is defined as a collection of transitions.  Each transition has a boolean logic condition, that if met, enables a particular set of behaviors.  Also, each transitions defines the appropriate next state to go to if the transition fires.  Each state also has a default rule that is fired if not other rule is activated.</p><p xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">For the example scenario used here, the state machine uses three states.  The first state manages the searching of the environment.  The second state handles the collection of garbage.  And the third state manages the destruction of mines.  Below is a psuedo-state-machine of the algorithm used in this example.</p><b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">State: Search</b><ul><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">near-garbage</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-towards-garbage</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">collect-garbage</b>
						</li><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">near-mine</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-towards-mine</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">disarm-mine</b>
						</li><li>default: <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-random</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">search</b>
						</li></ul><b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">State: Collect-Garbage</b><ul><li>if not <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">holding-garbage</i> and <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">on-garbage</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">pick-up-garbage</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">collect-garbage</b>
						</li><li>if not <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">holding-garbage</i> and <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">near-garbage</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-towards-garbage</i> and goto  <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">collect-garbage</b>
						</li><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">holding-garbage</i> and not <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">on-dumpster</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-towards-dumpster</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">collect-garbage</b>
						</li><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">holding-garbage</i> and <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">on-dumpster</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">put-down-garbage</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">search</b>
						</li><li>default: <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-random</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">search</b>
						</li></ul><b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">State: Disarm-Mine</b><ul><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">on-armed-mine</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">disarm-phase-1</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">disarm-mine</b>
						</li><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">on-partially-armed-mine</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">disarm-phase-2</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">search</b>
						</li><li>if <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">near-mine</i> then <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-towards-mine</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">disarm-mine</b>
						</li><li>default: <i xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">move-random</i> and goto <b xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">search</b>
						</li></ul><pre><font size="2" face="Courier New">
&lt;controllers&gt;
    &lt;controller name="basic-state-machine" format="state"&gt;
        &lt;builder class="sweep.controller.FSABuilder"/&gt;
        &lt;initialState name="searching"/&gt;
        &lt;states&gt;
        
            &lt;!-- State: controls the search beahviors --&gt;
            &lt;state name="searching"&gt;
                &lt;!-- Rule: if in range of garbage, go into collecting mode --&gt;
                &lt;transition nextState="collect-garbage"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="near-garbage" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="move-towards-garbage"/&gt;
                &lt;/transition&gt;
            
                &lt;!-- Rule: if in range of a mine, go into disarming mode --&gt;
                &lt;transition nextState="disarm-mine"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="near-mine" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="move-towards-mine"/&gt;
                &lt;/transition&gt;
                
                &lt;!-- Rule: otherwise, keep searching randomly --&gt;
                &lt;default nextState="searching"&gt;
                    &lt;action name="move-random"/&gt;
                &lt;/default&gt;
            &lt;/state&gt;
            
            &lt;!-- State: controls the collection of garbage --&gt;
            &lt;state name="collect-garbage"&gt;
                &lt;!-- Rule: if on a piece of garbage, pick it up --&gt;
                &lt;transition nextState="collect-garbage"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="holding-garbage" value="false"/&gt;
                        &lt;sensor name="on-garbage" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="pick-up-garbage"/&gt;
                &lt;/transition&gt;
                
                &lt;!-- Rule: if near garbage, move towards it --&gt;
                &lt;transition nextState="collect-garbage"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="holding-garbage" value="false"/&gt;
                        &lt;sensor name="near-garbage" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="move-towards-garbage"/&gt;
                &lt;/transition&gt;
                
                &lt;!-- Rule: if holding garbage, move towards the dumpster --&gt;
                &lt;transition nextState="collect-garbage"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="holding-garbage" value="true"/&gt;
                        &lt;sensor name="on-dumpster" value="false"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="move-towards-dumpster"/&gt;
                &lt;/transition&gt;

                &lt;!-- Rule: if holding garbage and on the dumpster, dispose of the garbage --&gt;
                &lt;transition nextState="searching"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="holding-garbage" value="true"/&gt;
                        &lt;sensor name="on-dumpster" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="put-down-garbage"/&gt;
                &lt;/transition&gt;

                &lt;!-- Rule: go back to searching --&gt;
                &lt;default nextState="searching"&gt;
                    &lt;action name="move-random"/&gt;
                &lt;/default&gt;
            &lt;/state&gt;
            
            &lt;!-- State: controls the disarming of mines --&gt;
            &lt;state name="disarm-mine"&gt;
                &lt;!-- Rule: if on an armed mine, perform the first disarming step --&gt;
                &lt;transition nextState="disarm-mine"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="on-armed-mine" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="disarm-mine-stage-1"/&gt;
                &lt;/transition&gt;

                &lt;!-- Rule: if on a partially disarmed mine, finish the job --&gt;
                &lt;transition nextState="searching"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="on-partially-disarmed-mine" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="disarm-mine-stage-2"/&gt;
                &lt;/transition&gt;

                &lt;!-- Rule: if near a mine, move towards it --&gt;
                &lt;transition nextState="disarm-mine"&gt;
                    &lt;rule logical="and"&gt;
                        &lt;builder class="sweep.controller.SensorRuleBuilder"/&gt;
                        &lt;sensor name="near-mine" value="true"/&gt;
                    &lt;/rule&gt;
                    &lt;action name="move-towards-mine"/&gt;
                &lt;/transition&gt;
                
                &lt;!-- Rule: go back to searching --&gt;
                &lt;default nextState="searching"&gt;
                    &lt;action name="move-random"/&gt;
                &lt;/default&gt;
            &lt;/state&gt;
        &lt;/states&gt;
    &lt;/controller&gt;
&lt;/controllers&gt;
				</font></pre><br></font></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="bottommain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index1.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="bottomsection"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topfeedback'); iOver('bottomfeedback'); self.status=feedbackblurb; return true;" onMouseOut="iOut('topfeedback'); iOut('bottomfeedback'); self.status=''; return true;" href="index.html"><img alt="Feedback" border="0" src="../default/i/feedback.gif" name="bottomfeedback"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="doc-1-3.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="bottomprevious"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topnext'); iOver('bottomnext'); self.status=nextblurb; return true;" onMouseOut="iOut('topnext'); iOut('bottomnext'); self.status=''; return true;" href="doc-1-5.html"><img alt="Next" border="0" src="../default/i/next.gif" name="bottomnext"></a></td></tr><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr></table></body></html>